<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box {
				width: 100px;
				height: 100px;
				background: red;
				position: absolute;
				left: 100px;
				top: 100px;
			}
		</style>
	</head>
	<body>
		<input type="button" value="单击往前走" id="btn1" />
		<input type="button" value="单击往回走" id="btn2" />
		<input type="button" value="单击往下走" id="btn3" />
		<input type="button" value="单击往上走" id="btn4" />
		<div id="box"></div>
	</body>
	<script type="text/javascript">

//获取元素
	var oBtn1=document.getElementById('btn1');
	var oBtn2=document.getElementById('btn2');
	var oBtn3=document.getElementById('btn3');
	var oBtn4=document.getElementById('btn4');
	var oBox=document.getElementById('box');
//定义变量存储定时器
	var timer=null;



//封装
// function move(8 ，800) {
	
// 		timer=setInterval(function () {
// 			var speed = oBox.offsetLeft+8;
// 			if (speed>=800) {
// 				speed=800;
// 			}
// 			oBox.style.left=speed+'px';
// 			if (speed==800) {
// 				clearInterval(timer);
// 				timer=null;
// 			}

// 			var speed = oBox.offsetLeft-8;
// 			if (speed<=100) {
// 				speed=100;
// 			}
// 			oBox.style.left=speed+'px';
// 			if (speed==100) {
// 				clearInterval(timer);
// 				timer=null;
// 			}
// 		},30);
// }
function getStyle(obj,attr) { // 形参相当于局部变量
			if(obj.currentStyle){
				return obj.currentStyle[attr];
			}else {
				return getComputedStyle(obj)[attr];
			}
		}
function move(obj,attr,speed,target) {
	clearInterval(timer);
	var dis = parseFloat(getStyle(obj,attr));

		timer=setInterval(function () {
			
			dis+=speed;
			if (dis>=target&&speed>0) {
				dis=target;
			}
			// oBox.style.left=dis+'px';
			// if (dis==target) {
			// 	clearInterval(timer);
			// 	timer=null;
			// }

			// var dis = oBox.offsetLeft-speed;
			if (dis<=target&&speed<0) {
				dis=target;
			}
			oBox.style[attr]=dis+'px';
			if (dis==target) {
				clearInterval(timer);
				timer=null;
			}
		},30);	
}

oBtn1.onclick=function () {
	move(oBox,'left',10,800);
}
oBtn2.onclick=function () {
	move(oBox,'left',-10,100);
}
oBtn3.onclick=function () {
	move(oBox,'top',10,800);
}
oBtn4.onclick=function () {
	move(oBox,'top',-10,100);
}













		
	//获取元素
	// var oBtn1=document.getElementById('btn1');
	// var oBtn2=document.getElementById('btn2');
	// var oBox=document.getElementById('box');
	// var timer=null;


// 	function move(speed,target) {
// 		clearInterval(timer);
// 		timer=setInterval(function() {
// 			dis=oBox.offsetLeft;
// 			dis+=speed;

// 			// if () {

// 			// } 

// 			oBox.style.left=dis+'px';
// 			if (dis==target) {
// 				clearInterval(timer);
// 			} 

// 		},30);
// 	}

// oBtn1.onclick=function () {
// 	move(10,800);
// }
// oBtn2.onclick=function () {
// 	move(-10,100);
// }













//向前走向后走
	// oBtn1.onclick=function () {
	// 	timer=setInterval(function () {
	// 		var speed = oBox.offsetLeft+8;
	// 		if (speed>=800) {
	// 			speed=800;
	// 		}
	// 		oBox.style.left=speed+'px';
	// 		if (speed==800) {
	// 			clearInterval(timer);
	// 			timer=null;
	// 		}
	// 	},30);
		
	// }
	// oBtn2.onclick=function () {
	// 	timer=setInterval(function () {
	// 		var speed = oBox.offsetLeft-8;
	// 		if (speed<=100) {
	// 			speed=100;
	// 		}
	// 		oBox.style.left=speed+'px';
	// 		if (speed==100) {
	// 			clearInterval(timer);
	// 			timer=null;
	// 		}
	// 	},30);
		
	// }
		
	</script>
</html>
